<!-- ===== Header ===== -->
<header class="header" [class.header--scrolled]="isScrolled">
  <div class="header__container container">
    <a href="#hero" class="header__logo" (click)="scrollToSection('#hero'); $event.preventDefault()">
      <span class="header__logo-text">MF</span>
    </a>

    <nav class="header__nav" [class.header__nav--open]="isMenuOpen">
      <a 
        *ngFor="let link of navLinks" 
        [href]="link.href" 
        class="header__link"
        (click)="scrollToSection(link.href); $event.preventDefault()"
      >
        {{ link.label }}
      </a>
      <a href="#contact" class="btn btn-primary header__cta" (click)="scrollToSection('#contact'); $event.preventDefault()">
        Me contacter
      </a>
    </nav>

    <button class="header__menu-btn" (click)="toggleMenu()" [attr.aria-expanded]="isMenuOpen">
      <span class="header__menu-icon" [class.header__menu-icon--open]="isMenuOpen"></span>
    </button>
  </div>
</header>

<!-- ===== Hero Section ===== -->
<section id="hero" class="hero">
  <div class="hero__bg"></div>
  <div class="hero__content container">
    <div class="hero__text">
      <h1 class="hero__name animate-fade-in-up">{{ name }}</h1>
      <h2 class="hero__title animate-fade-in-up stagger-2">{{ title }}</h2>
      <p class="hero__tagline animate-fade-in-up stagger-3">{{ tagline }}</p>
      <div class="hero__actions animate-fade-in-up stagger-4">
        <a href="#projects" class="btn btn-primary" (click)="scrollToSection('#projects'); $event.preventDefault()">
          Voir mes projets
        </a>
        <a href="#contact" class="btn btn-outline" (click)="scrollToSection('#contact'); $event.preventDefault()">
          Me contacter
        </a>
      </div>
    </div>
    
    <!-- YouTube Template Mockup -->
    <div class="hero__mockup animate-fade-in-up stagger-3">
      <div class="youtube-mockup">
        <div class="youtube-mockup__browser">
          <div class="youtube-mockup__dots">
            <span></span><span></span><span></span>
          </div>
          <div class="youtube-mockup__url">youtube.com</div>
        </div>
        <div class="youtube-mockup__content">
          <div class="youtube-mockup__video">
            <!-- Embedded iframe when loaded -->
            <iframe 
              *ngIf="heroVideoLoaded"
              src="https://www.youtube.com/embed/YmfiK80cUbk?autoplay=1"
              title="Demo Reel"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              class="youtube-mockup__iframe"
            ></iframe>
            
            <!-- Facade before click -->
            <button 
              *ngIf="!heroVideoLoaded"
              type="button"
              class="youtube-mockup__facade"
              (click)="heroVideoLoaded = true"
              aria-label="Lire la vidéo"
            >
              <img 
                src="https://img.youtube.com/vi/YmfiK80cUbk/maxresdefault.jpg" 
                alt="Video preview"
                class="youtube-mockup__thumbnail"
              />
              <div class="youtube-mockup__play">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M8 5v14l11-7z"/>
                </svg>
              </div>
            </button>
          </div>
          <div class="youtube-mockup__info">
            <div class="youtube-mockup__title-bar"></div>
            <div class="youtube-mockup__meta"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="hero__scroll">
    <span>Scroll</span>
    <div class="hero__scroll-line"></div>
  </div>
</section>

<!-- ===== Skills Section ===== -->
<section id="skills" class="skills section">
  <div class="container">
    <h2 class="section__title">Mes <span class="text-accent">compétences</span></h2>
    <p class="section__subtitle">Les outils que je maîtrise pour donner vie à vos idées.</p>
    
    <div class="skills__grid">
      <div *ngFor="let skill of skills; let i = index" class="skill-card glass" [style.animation-delay]="(i * 0.1) + 's'">
        <div class="skill-card__icon" [attr.data-icon]="skill.icon">
          <!-- After Effects -->
          <svg *ngIf="skill.icon === 'ae'" viewBox="0 0 512 512" fill="currentColor">
            <path d="M227.593,217.991l19.188,60.091h-62.627l18.825-60.091c4.346-14.48,7.964-31.493,11.582-45.611h0.724 C218.906,186.499,222.886,203.149,227.593,217.991z M511.5,85.667v340.667c0,46.842-38.325,85.167-85.167,85.167H85.667 C38.825,511.5,0.5,473.175,0.5,426.333V85.667C0.5,38.825,38.825,0.5,85.667,0.5h340.667C473.175,0.5,511.5,38.825,511.5,85.667z M324.246,380.885l-79.279-243.977h-56.83l-78.189,243.977h45.973l20.997-69.14h77.465l22.082,69.14H324.246z M399.52,204.597 h-44.888v176.288h44.888V204.597z M402.052,155.368c-0.362-13.756-9.772-24.252-24.977-24.252 c-14.842,0-24.976,10.496-24.976,24.252c0,13.395,9.772,23.891,24.614,23.891C392.279,179.258,402.052,168.762,402.052,155.368z"/>
          </svg>
          <!-- Premiere Pro -->
          <svg *ngIf="skill.icon === 'pr'" viewBox="0 0 32 32" fill="currentColor">
            <path d="M25.347 12.001v2.437c0 0.1-0.062 0.137-0.2 0.137-0.059-0.002-0.128-0.004-0.197-0.004-0.797 0-1.554 0.172-2.236 0.48l0.034-0.014c-0.25 0.114-0.462 0.27-0.636 0.461l-0.001 0.002v6.373c0 0.125-0.050 0.175-0.162 0.175h-2.462c-0.008 0.001-0.017 0.002-0.026 0.002-0.089 0-0.162-0.066-0.173-0.151l-0-0.001v-6.973l-0.012-0.937-0.025-0.975c0-0.287-0.025-0.562-0.050-0.85-0.001-0.005-0.001-0.012-0.001-0.018 0-0.056 0.037-0.104 0.088-0.119l0.001-0h2.224c0 0 0 0 0.001 0 0.121 0 0.223 0.085 0.249 0.198l0 0.002c0.103 0.329 0.163 0.707 0.163 1.098 0 0.018-0 0.036-0 0.054l0-0.003c0.376-0.432 0.823-0.792 1.325-1.062l0.025-0.012c0.542-0.307 1.191-0.487 1.881-0.487 0.006 0 0.013 0 0.019 0h-0.001c0.006-0.001 0.013-0.001 0.020-0.001 0.080 0 0.146 0.060 0.155 0.138l0 0.001zM16.825 15.938c-0.5 0.69-1.185 1.218-1.982 1.515l-0.030 0.010c-0.775 0.271-1.668 0.428-2.597 0.428-0.075 0-0.151-0.001-0.226-0.003l0.011 0-0.625-0.012-0.537-0.012v4.011c0.001 0.008 0.002 0.016 0.002 0.025 0 0.079-0.061 0.144-0.139 0.15l-0 0h-2.424c-0.1 0-0.15-0.050-0.15-0.162v-12.859c0-0.087 0.037-0.137 0.125-0.137l0.7-0.012 0.95-0.025 1.087-0.025 1.137-0.012c0.063-0.002 0.137-0.003 0.211-0.003 0.846 0 1.658 0.143 2.415 0.406l-0.052-0.016c0.654 0.226 1.213 0.576 1.676 1.026l-0.001-0.001c0.392 0.393 0.702 0.868 0.903 1.397l0.009 0.027c0.181 0.483 0.286 1.041 0.287 1.624v0c0.002 0.053 0.004 0.116 0.004 0.179 0 0.926-0.281 1.785-0.763 2.499l0.010-0.016zM25.685 1.379h-19.369c-2.933 0-5.311 2.378-5.311 5.311v0 18.62c0 0.001 0 0.003 0 0.004 0 2.931 2.376 5.307 5.307 5.307 0.002 0 0.003 0 0.005 0h19.369c0.001 0 0.003 0 0.004 0 2.931 0 5.307-2.376 5.307-5.307 0-0.002 0-0.003 0-0.005v0-18.62c0-0.001 0-0.003 0-0.004 0-2.931-2.376-5.307-5.307-5.307-0.002 0-0.003 0-0.005 0h0zM13.688 11.526c-0.396-0.16-0.855-0.253-1.336-0.253-0.049 0-0.097 0.001-0.145 0.003l0.007-0q-0.681-0.014-1.362 0.025v4.199l0.487 0.025h0.662c0.002 0 0.004 0 0.005 0 0.512 0 1.004-0.082 1.465-0.234l-0.033 0.009c0.411-0.123 0.759-0.354 1.022-0.66l0.002-0.003c0.244-0.32 0.391-0.725 0.391-1.165 0-0.043-0.001-0.085-0.004-0.128l0 0.006c0.003-0.039 0.005-0.085 0.005-0.131 0-0.769-0.479-1.426-1.155-1.689l-0.012-0.004z"/>
          </svg>
          <!-- Photoshop -->
          <svg *ngIf="skill.icon === 'ps'" viewBox="0 0 17.469 17.469" fill="currentColor">
            <path d="M5.925,4.982c-0.442,0-0.742,0.043-0.898,0.087v2.841C5.213,7.952,5.44,7.966,5.754,7.966 c1.157,0,1.871-0.585,1.871-1.571C7.624,5.511,7.01,4.982,5.925,4.982z"/>
            <path d="M16.4,0.002H1.07C0.479,0.002,0,0.48,0,1.069v15.329c0,0.59,0.479,1.069,1.07,1.069H16.4 c0.59,0,1.069-0.479,1.069-1.069V1.07C17.469,0.48,16.99,0.002,16.4,0.002z M8.894,8.624c-0.741,0.7-1.842,1.014-3.125,1.014 c-0.287,0-0.543-0.014-0.743-0.043v3.442H2.869V3.541C3.54,3.428,4.482,3.342,5.811,3.342c1.341,0,2.299,0.256,2.94,0.771 c0.617,0.486,1.03,1.286,1.03,2.228S9.466,8.08,8.894,8.624z M12.145,13.179c-0.916,0-1.729-0.198-2.258-0.485l0.385-1.556 c0.4,0.241,1.229,0.527,1.873,0.527c0.655,0,0.927-0.228,0.927-0.586c0-0.356-0.214-0.527-1.027-0.799 c-1.442-0.485-2-1.271-1.986-2.099c0-1.298,1.114-2.286,2.842-2.286c0.814,0,1.542,0.187,1.97,0.4l-0.385,1.5 c-0.314-0.172-0.913-0.399-1.514-0.399c-0.527,0-0.826,0.214-0.826,0.571c0,0.328,0.269,0.499,1.126,0.8 c1.328,0.456,1.886,1.128,1.899,2.154C15.171,12.222,14.141,13.179,12.145,13.179z"/>
          </svg>
          <!-- Illustrator -->
          <svg *ngIf="skill.icon === 'ai'" viewBox="0 0 512 512" fill="currentColor">
            <path d="M227.593,217.991l19.188,60.091h-62.627l18.825-60.091c4.346-14.48,7.964-31.493,11.582-45.611h0.724 C218.906,186.499,222.886,203.149,227.593,217.991z M511.5,85.667v340.667c0,46.842-38.325,85.167-85.167,85.167H85.667 C38.825,511.5,0.5,473.175,0.5,426.333V85.667C0.5,38.825,38.825,0.5,85.667,0.5h340.667C473.175,0.5,511.5,38.825,511.5,85.667z M324.246,380.885l-79.279-243.977h-56.83l-78.189,243.977h45.973l20.997-69.14h77.465l22.082,69.14H324.246z M399.52,204.597 h-44.888v176.288h44.888V204.597z M402.052,155.368c-0.362-13.756-9.772-24.252-24.977-24.252 c-14.842,0-24.976,10.496-24.976,24.252c0,13.395,9.772,23.891,24.614,23.891C392.279,179.258,402.052,168.762,402.052,155.368z"/>
          </svg>
          <!-- Blender -->
          <svg *ngIf="skill.icon === 'blender'" viewBox="0 0 512 512" fill="currentColor">
            <path d="M510.003,279.642c-2.998-21.097-10.305-41.104-21.724-59.459c-9.96-16.019-22.739-30.266-37.992-42.375 l0.041-0.038L290.133,54.731c-0.133-0.116-0.27-0.224-0.361-0.287c-5.327-4.08-12.538-6.325-20.298-6.325 c-7.769,0-15.262,2.25-21.088,6.337c-6.263,4.375-9.843,10.18-10.093,16.36c-0.229,5.764,2.521,11.311,7.764,15.636 c10.31,8.134,20.598,16.447,30.898,24.768c9.997,8.08,20.298,16.401,30.549,24.502l-196.213-0.133 c-22.439,0-37.718,10.537-40.861,28.178c-1.381,7.727,1.056,16.223,6.504,22.73c5.78,6.899,14.172,10.704,23.629,10.704 l14.958,0.009c20.664,0,41.419-0.05,62.146-0.1l19.766-0.046L19.354,328.812l-0.707,0.516C8.7,336.954,2.188,347.642,0.783,358.653 c-1.065,8.342,0.881,15.965,5.63,22.053c5.66,7.257,14.497,11.249,24.885,11.249c10.205,0,20.618-3.867,29.334-10.908l96.166-78.7 c-0.411,3.843-0.91,9.481-0.853,13.573c0.108,6.479,2.188,19.479,5.481,30.033c6.804,21.691,18.265,41.536,34.063,58.964 c16.438,18.131,36.458,32.508,59.5,42.721c24.361,10.774,50.547,16.243,77.836,16.243h0.253 c27.376-0.066,53.646-5.622,78.085-16.518c23.08-10.334,43.091-24.769,59.467-42.899c15.778-17.516,27.222-37.394,34.013-59.067 c3.356-10.721,5.519-21.82,6.417-33.003C511.899,301.565,511.538,290.545,510.003,279.642z M334.821,383.601 c-60.142,0-108.912-43.627-108.912-97.447c0-53.815,48.771-97.442,108.912-97.442c60.141,0,108.907,43.627,108.907,97.442 C443.729,339.974,394.962,383.601,334.821,383.601z M397.627,277.591c0.886,16.064-5.53,30.978-16.796,42.019 c-11.461,11.248-27.816,18.313-46.102,18.313c-18.281,0-34.637-7.065-46.102-18.313c-11.262-11.041-17.665-25.954-16.784-42.006 c0.865-15.603,8.476-29.376,19.94-39.128c11.273-9.589,26.411-15.44,42.945-15.44c16.538,0,31.671,5.852,42.945,15.44 C389.14,248.228,396.754,261.992,397.627,277.591z"/>
          </svg>
        </div>
        <span class="skill-card__name">{{ skill.name }}</span>
      </div>
    </div>
  </div>
</section>

<!-- ===== Projects Section ===== -->
<section id="projects" class="projects section">
  <div class="container">
    <h2 class="section__title">Mes <span class="text-accent">réalisations</span></h2>
    <p class="section__subtitle">Une sélection de mes meilleurs travaux en motion design et montage vidéo.</p>
    
    <div *ngFor="let section of videoSections; let sectionIdx = index" class="projects__category">
      <h3 class="projects__category-title">{{ section.title }}</h3>
      <p class="projects__category-desc">{{ section.description }}</p>
      
      <div class="projects__grid">
        <article *ngFor="let video of section.items; let videoIdx = index" class="video-card glass">
          <div class="video-card__frame">
            <!-- Loaded iframe -->
            <iframe 
              *ngIf="video.loaded"
              [src]="video.embedUrl | safeUrl"
              [title]="video.title"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              class="video-card__iframe"
            ></iframe>
            
            <!-- Facade before loading -->
            <button 
              *ngIf="!video.loaded"
              type="button"
              class="video-card__facade"
              (click)="loadVideo(sectionIdx, videoIdx)"
              [attr.aria-label]="'Lire ' + video.title"
            >
              <img [src]="video.thumbnailUrl" [alt]="video.title" class="video-card__thumbnail" loading="lazy" />
              <div class="video-card__play">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M8 5v14l11-7z"/>
                </svg>
              </div>
            </button>
          </div>
          <div class="video-card__info">
            <h4 class="video-card__title">{{ video.title }}</h4>
            <p class="video-card__desc">{{ video.description }}</p>
          </div>
        </article>
      </div>
    </div>
  </div>
</section>

<!-- ===== Contact Section ===== -->
<section id="contact" class="contact section">
  <div class="container">
    <div class="contact__content glass">
      <h2 class="contact__title">Travaillons <span class="text-accent">ensemble</span></h2>
      <p class="contact__text">
        Vous avez un projet de vidéo ou de motion design en tête ? 
        Je serais ravi de discuter de vos idées et de voir comment je peux les concrétiser.
      </p>
      <div class="contact__actions">
        <a href="https://fr.fiverr.com/sellers/nmaywix" target="_blank" rel="noopener noreferrer" class="btn btn-primary btn-large">
          <svg viewBox="0 0 24 24" fill="currentColor" class="btn__icon">
            <path d="M23.004 15.588a.995.995 0 1 0 .002-1.99.995.995 0 0 0-.002 1.99zm-.996-3.705h-.85c-.546 0-.84.41-.84 1.092v2.466h-1.61v-3.558h-.684c-.547 0-.84.41-.84 1.092v2.466h-1.61v-4.874h1.61v.74c.264-.574.626-.74 1.163-.74h1.972v.74c.264-.574.625-.74 1.162-.74h.527v1.316zm-6.786 1.501h-3.359c.088.546.43.858 1.006.858.43 0 .732-.166.83-.498l1.479.352c-.313.81-1.162 1.3-2.31 1.3-1.612 0-2.66-.996-2.66-2.476 0-1.48 1.048-2.476 2.563-2.476 1.514 0 2.451.996 2.451 2.476v.464zm-3.359-.742h1.934c-.098-.508-.43-.79-.967-.79-.546 0-.878.282-.967.79zm-4.139.742H4.375c.089.546.43.858 1.006.858.43 0 .732-.166.83-.498l1.479.352c-.313.81-1.162 1.3-2.31 1.3-1.611 0-2.66-.996-2.66-2.476 0-1.48 1.049-2.476 2.564-2.476 1.514 0 2.45.996 2.45 2.476v.464zm-3.358-.742h1.933c-.097-.508-.43-.79-.967-.79-.545 0-.877.282-.966.79zm-1.59-3.654v5.512H1v-5.512h1.776zM.5 10.494a.995.995 0 1 1 1.99 0 .995.995 0 0 1-1.99 0z"/>
          </svg>
          Me contacter sur Fiverr
        </a>
      </div>
      <div class="contact__socials">
        <a href="mailto:farruggiamaxime@gmail.com" class="contact__social" aria-label="Email">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
            <polyline points="22,6 12,13 2,6"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- ===== Footer ===== -->
<footer class="footer">
  <div class="container">
    <div class="footer__content">
      <p class="footer__copyright">© 2024 Maywix. Tous droits réservés.</p>
      <nav class="footer__nav">
        <a *ngFor="let link of navLinks" [href]="link.href" (click)="scrollToSection(link.href); $event.preventDefault()">
          {{ link.label }}
        </a>
      </nav>
    </div>
  </div>
</footer>
